let pokemonRepository=function(){let e=[];function t(t){'object'==typeof t&&'name'in t?e.push(t):console.log('pokemon is not correct')}function n(){return e}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.name=t.name,e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.abilities=t.abilities}).catch(function(e){console.error(e)})}let a=document.querySelector('.modal');function o(e){i(e).then(function(){var t;let n,i,a,o,l,r,s,c,d,p,m,u,h;t=e,n=document.querySelector('.modal-body'),i=document.querySelector('.modal-header'),n.innerHTML='',a=document.querySelector('.modal-title'),o=document.querySelector('.close'),l=document.createElement('h2'),l.innerHTML=t.name,r=document.createElement('p'),r.innerHTML='Height: '+t.height,s=document.createElement('p'),s.innerHTML='Weight: '+t.weight,c=document.createElement('p'),d=t.types.map(e=>e.type.name),c.innerHTML='Types: '+d.join(', '),p=document.createElement('p'),m=t.abilities.map(e=>e.ability.name),p.innerText='Abilities: '+m.join(', '),u=document.createElement('img'),u.classList.add('modal-img'),u.src=t.imageUrlFront,h=document.createElement('img'),h.classList.add('modal-img'),h.src=t.imageUrlBack,i.appendChild(a),i.appendChild(o),n.appendChild(l),n.appendChild(r),n.appendChild(s),n.appendChild(c),n.appendChild(p),n.appendChild(u),n.appendChild(h)})}function l(){a.classList.remove('is-visible')}return window.addEventListener('keydown',e=>{'Escape'===e.key&&a.classList.contains('is-visible')&&l()}),a.addEventListener('click',e=>{e.target===a&&l()}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector('.list-group'),i=document.createElement('li'),a=document.createElement('button');a.innerText=t.name,a.classList.add('btn','btn-primary'),a.setAttribute('data-target','#pokemonModal'),a.setAttribute('data-toggle','modal'),i.classList.add('list-group-item'),i.appendChild(a),n.appendChild(i),function e(t,n){t.addEventListener('click',function(){o(n)})}(a,t)},loadList:function e(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=10').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let n={name:e.name,detailsUrl:e.url};t(n),console.log(n)})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});